{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/bolajiscott/Desktop/enye-task/src/components/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Navbar from './Navbar';\nimport DisplayProfile from './DisplayProfile';\nimport Pagination from './Pagination';\nconst url = 'https://api.enye.tech/v1/challenge/records';\n\nconst Profile = () => {\n  _s();\n\n  const [users, setUsers] = useState([]);\n  const [items, setItems] = useState([]);\n  const [search, setSearch] = useState('');\n  const allGender = ['all', ...new Set(users.map(item => item.Gender))];\n  const allPayments = ['all', ...new Set(users.map(item => item.PaymentMethod))];\n\n  const getProfiles = async () => {\n    const response = await fetch(url);\n    const lists = await response.json();\n    setUsers(lists.records['profiles']);\n    setItems(lists.records['profiles']);\n  };\n\n  useEffect(() => {\n    getProfiles();\n  }, []); //Get current profiles\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [profilePerPage, setProfilePerPage] = useState(20);\n  const indexOfLastProfile = currentPage * profilePerPage;\n  const indexOfFirstProfile = indexOfLastProfile - profilePerPage;\n  const currentProfiles = users.slice(indexOfFirstProfile, indexOfLastProfile);\n\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  const filterGender = value => {\n    if (value === 'all') {\n      setUsers(currentProfiles);\n      return;\n    }\n\n    const newUsers = currentProfiles.filter(user => user.Gender === value);\n    setUsers(newUsers);\n    return;\n  };\n\n  const filterPayment = value => {\n    if (value === 'all') {\n      setUsers(currentProfiles);\n      return;\n    }\n\n    const newUsers = currentProfiles.filter(user => user.PaymentMethod === value);\n    setUsers(newUsers);\n    return;\n  };\n\n  return users.length === 0 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \"loading\",\n    children: \"...Loading\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 30\n  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"heading\",\n      children: \"Profiles\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n      filterByGender: filterGender,\n      filterByPayment: filterPayment,\n      gender: allGender,\n      payMethods: allPayments,\n      search: search,\n      setSearch: setSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DisplayProfile, {\n      currentProfiles: currentProfiles,\n      search: search\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      profilePerPage: profilePerPage,\n      totalProfiles: users.length,\n      paginate: paginate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Profile, \"gszFzjmJMfcAVyhPJXGMQeAPHJo=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/home/bolajiscott/Desktop/enye-task/src/components/Profile.js"],"names":["React","useEffect","useState","Navbar","DisplayProfile","Pagination","url","Profile","users","setUsers","items","setItems","search","setSearch","allGender","Set","map","item","Gender","allPayments","PaymentMethod","getProfiles","response","fetch","lists","json","records","currentPage","setCurrentPage","profilePerPage","setProfilePerPage","indexOfLastProfile","indexOfFirstProfile","currentProfiles","slice","paginate","pageNumber","filterGender","value","newUsers","filter","user","filterPayment","length"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\n\nimport Navbar from './Navbar'\nimport DisplayProfile from './DisplayProfile';\nimport Pagination from './Pagination';\n\nconst url ='https://api.enye.tech/v1/challenge/records';\n\nconst Profile = () => {\n\n    const [users, setUsers] = useState([]);\n    const [items, setItems] = useState([]);\n    const [search, setSearch] = useState('')\n   \n    const allGender = ['all',...new Set(users.map(item => item.Gender))];\n    \n    const allPayments = ['all',...new Set(users.map(item => item.PaymentMethod))];\n    \n    const getProfiles = async () => {\n       const response = await fetch(url);\n       const lists = await response.json();\n       setUsers(lists.records['profiles']);\n       setItems(lists.records['profiles']);\n    }\n\n    useEffect(() => {\n       getProfiles();\n    }, []);\n\n    //Get current profiles\n    const [currentPage, setCurrentPage] = useState(1);\n    const [profilePerPage, setProfilePerPage] = useState(20);\n\n    const indexOfLastProfile = currentPage * profilePerPage;\n    const indexOfFirstProfile = indexOfLastProfile - profilePerPage;\n    const currentProfiles = users.slice(indexOfFirstProfile, indexOfLastProfile);\n\n    const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n    const filterGender = (value) => {\n        if(value === 'all'){\n           setUsers(currentProfiles);\n           return;\n        }\n        const newUsers = currentProfiles.filter(user => user.Gender === value );\n        setUsers(newUsers);\n        return;\n     }\n\n     const filterPayment = (value) => {\n        if(value === 'all'){\n            setUsers(currentProfiles);\n            return;\n         }\n        const newUsers = currentProfiles.filter(user => user.PaymentMethod === value );\n        setUsers(newUsers);\n        return;\n     }\n\n    return (\n        users.length === 0 ? <h1 className=\"loading\">...Loading</h1> : \n        <>\n            <h1 className=\"heading\">Profiles</h1>\n            <Navbar filterByGender = {filterGender} filterByPayment = {filterPayment} gender = {allGender} payMethods = {allPayments} search={search} setSearch={setSearch} />\n            <DisplayProfile currentProfiles = {currentProfiles} search={search}/>\n            <Pagination profilePerPage={profilePerPage} totalProfiles ={users.length} paginate={paginate} />\n        </>\n    )\n}\n\nexport default Profile\n"]},"metadata":{},"sourceType":"module"}