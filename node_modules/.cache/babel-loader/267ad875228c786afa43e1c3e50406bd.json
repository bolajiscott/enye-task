{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/bolajiscott/Desktop/enye-task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/bolajiscott/Desktop/enye-task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/home/bolajiscott/Desktop/enye-task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/bolajiscott/Desktop/enye-task/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Navbar from'./Navbar';import DisplayProfile from'./DisplayProfile';import Pagination from'./Pagination';var url='https://api.enye.tech/v1/challenge/records';var Profile=function Profile(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),items=_useState4[0],setItems=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];var allGender=['all'].concat(_toConsumableArray(new Set(users.map(function(item){return item.Gender;}))));var allPayments=['all'].concat(_toConsumableArray(new Set(users.map(function(item){return item.PaymentMethod;}))));var getProfiles=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,lists;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url);case 2:response=_context.sent;_context.next=5;return response.json();case 5:lists=_context.sent;setUsers(lists.records['profiles']);setItems(lists.records['profiles']);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getProfiles(){return _ref.apply(this,arguments);};}();useEffect(function(){getProfiles();},[]);//Get current profiles\nvar _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),currentPage=_useState8[0],setCurrentPage=_useState8[1];var _useState9=useState(20),_useState10=_slicedToArray(_useState9,2),profilePerPage=_useState10[0],setProfilePerPage=_useState10[1];var indexOfLastProfile=currentPage*profilePerPage;var indexOfFirstProfile=indexOfLastProfile-profilePerPage;var currentProfiles=users.slice(indexOfFirstProfile,indexOfLastProfile);var paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};var filterGender=function filterGender(value){if(value==='all'){setUsers(currentProfiles);return;}var newUsers=currentProfiles.filter(function(user){return user.Gender===value;});setUsers(newUsers);return;};var filterPayment=function filterPayment(value){if(value==='all'){setUsers(currentProfiles);return;}var newUsers=currentProfiles.filter(function(user){return user.PaymentMethod===value;});setUsers(newUsers);return;};return users.length===0?/*#__PURE__*/_jsx(\"h1\",{className:\"loading\",children:\"...Loading\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"heading\",children:\"Profiles\"}),/*#__PURE__*/_jsx(Navbar,{filterByGender:filterGender,filterByPayment:filterPayment,gender:allGender,payMethods:allPayments,search:search,setSearch:setSearch}),/*#__PURE__*/_jsx(DisplayProfile,{currentProfiles:currentProfiles,search:search}),/*#__PURE__*/_jsx(Pagination,{profilePerPage:profilePerPage,totalProfiles:users.length,paginate:paginate})]});};export default Profile;","map":{"version":3,"sources":["/home/bolajiscott/Desktop/enye-task/src/components/Profile.js"],"names":["React","useEffect","useState","Navbar","DisplayProfile","Pagination","url","Profile","users","setUsers","items","setItems","search","setSearch","allGender","Set","map","item","Gender","allPayments","PaymentMethod","getProfiles","fetch","response","json","lists","records","currentPage","setCurrentPage","profilePerPage","setProfilePerPage","indexOfLastProfile","indexOfFirstProfile","currentProfiles","slice","paginate","pageNumber","filterGender","value","newUsers","filter","user","filterPayment","length"],"mappings":"0vBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA,GAAMC,CAAAA,GAAG,CAAE,4CAAX,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,eAEQL,QAAQ,CAAC,EAAD,CAFhB,wCAEXM,KAFW,eAEJC,QAFI,8BAGQP,QAAQ,CAAC,EAAD,CAHhB,yCAGXQ,KAHW,eAGJC,QAHI,8BAIUT,QAAQ,CAAC,EAAD,CAJlB,yCAIXU,MAJW,eAIHC,SAJG,eAMlB,GAAMC,CAAAA,SAAS,EAAI,KAAJ,4BAAa,GAAIC,CAAAA,GAAJ,CAAQP,KAAK,CAACQ,GAAN,CAAU,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,MAAT,EAAd,CAAR,CAAb,EAAf,CAEA,GAAMC,CAAAA,WAAW,EAAI,KAAJ,4BAAa,GAAIJ,CAAAA,GAAJ,CAAQP,KAAK,CAACQ,GAAN,CAAU,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACG,aAAT,EAAd,CAAR,CAAb,EAAjB,CAEA,GAAMC,CAAAA,WAAW,0FAAG,4KACMC,CAAAA,KAAK,CAAChB,GAAD,CADX,QACXiB,QADW,qCAEGA,CAAAA,QAAQ,CAACC,IAAT,EAFH,QAEXC,KAFW,eAGjBhB,QAAQ,CAACgB,KAAK,CAACC,OAAN,CAAc,UAAd,CAAD,CAAR,CACAf,QAAQ,CAACc,KAAK,CAACC,OAAN,CAAc,UAAd,CAAD,CAAR,CAJiB,sDAAH,kBAAXL,CAAAA,WAAW,0CAAjB,CAOApB,SAAS,CAAC,UAAM,CACboB,WAAW,GACb,CAFQ,CAEN,EAFM,CAAT,CAIA;AArBkB,eAsBoBnB,QAAQ,CAAC,CAAD,CAtB5B,yCAsBXyB,WAtBW,eAsBEC,cAtBF,8BAuB0B1B,QAAQ,CAAC,EAAD,CAvBlC,0CAuBX2B,cAvBW,gBAuBKC,iBAvBL,gBAyBlB,GAAMC,CAAAA,kBAAkB,CAAGJ,WAAW,CAAGE,cAAzC,CACA,GAAMG,CAAAA,mBAAmB,CAAGD,kBAAkB,CAAGF,cAAjD,CACA,GAAMI,CAAAA,eAAe,CAAGzB,KAAK,CAAC0B,KAAN,CAAYF,mBAAZ,CAAiCD,kBAAjC,CAAxB,CAEA,GAAMI,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,UAAD,QAAgBR,CAAAA,cAAc,CAACQ,UAAD,CAA9B,EAAjB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5B,GAAGA,KAAK,GAAK,KAAb,CAAmB,CAChB7B,QAAQ,CAACwB,eAAD,CAAR,CACA,OACF,CACD,GAAMM,CAAAA,QAAQ,CAAGN,eAAe,CAACO,MAAhB,CAAuB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACvB,MAAL,GAAgBoB,KAApB,EAA3B,CAAjB,CACA7B,QAAQ,CAAC8B,QAAD,CAAR,CACA,OACF,CARF,CAUC,GAAMG,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACJ,KAAD,CAAW,CAC9B,GAAGA,KAAK,GAAK,KAAb,CAAmB,CACf7B,QAAQ,CAACwB,eAAD,CAAR,CACA,OACF,CACF,GAAMM,CAAAA,QAAQ,CAAGN,eAAe,CAACO,MAAhB,CAAuB,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACrB,aAAL,GAAuBkB,KAA3B,EAA3B,CAAjB,CACA7B,QAAQ,CAAC8B,QAAD,CAAR,CACA,OACF,CARD,CAUD,MACI/B,CAAAA,KAAK,CAACmC,MAAN,GAAiB,CAAjB,cAAqB,WAAI,SAAS,CAAC,SAAd,wBAArB,cACA,wCACI,WAAI,SAAS,CAAC,SAAd,sBADJ,cAEI,KAAC,MAAD,EAAQ,cAAc,CAAIN,YAA1B,CAAwC,eAAe,CAAIK,aAA3D,CAA0E,MAAM,CAAI5B,SAApF,CAA+F,UAAU,CAAIK,WAA7G,CAA0H,MAAM,CAAEP,MAAlI,CAA0I,SAAS,CAAEC,SAArJ,EAFJ,cAGI,KAAC,cAAD,EAAgB,eAAe,CAAIoB,eAAnC,CAAoD,MAAM,CAAErB,MAA5D,EAHJ,cAII,KAAC,UAAD,EAAY,cAAc,CAAEiB,cAA5B,CAA4C,aAAa,CAAGrB,KAAK,CAACmC,MAAlE,CAA0E,QAAQ,CAAER,QAApF,EAJJ,GAFJ,CASH,CA5DD,CA8DA,cAAe5B,CAAAA,OAAf","sourcesContent":["import React, {useEffect, useState} from 'react'\n\nimport Navbar from './Navbar'\nimport DisplayProfile from './DisplayProfile';\nimport Pagination from './Pagination';\n\nconst url ='https://api.enye.tech/v1/challenge/records';\n\nconst Profile = () => {\n\n    const [users, setUsers] = useState([]);\n    const [items, setItems] = useState([]);\n    const [search, setSearch] = useState('')\n   \n    const allGender = ['all',...new Set(users.map(item => item.Gender))];\n    \n    const allPayments = ['all',...new Set(users.map(item => item.PaymentMethod))];\n    \n    const getProfiles = async () => {\n       const response = await fetch(url);\n       const lists = await response.json();\n       setUsers(lists.records['profiles']);\n       setItems(lists.records['profiles']);\n    }\n\n    useEffect(() => {\n       getProfiles();\n    }, []);\n\n    //Get current profiles\n    const [currentPage, setCurrentPage] = useState(1);\n    const [profilePerPage, setProfilePerPage] = useState(20);\n\n    const indexOfLastProfile = currentPage * profilePerPage;\n    const indexOfFirstProfile = indexOfLastProfile - profilePerPage;\n    const currentProfiles = users.slice(indexOfFirstProfile, indexOfLastProfile);\n\n    const paginate = (pageNumber) => setCurrentPage(pageNumber);\n\n    const filterGender = (value) => {\n        if(value === 'all'){\n           setUsers(currentProfiles);\n           return;\n        }\n        const newUsers = currentProfiles.filter(user => user.Gender === value );\n        setUsers(newUsers);\n        return;\n     }\n\n     const filterPayment = (value) => {\n        if(value === 'all'){\n            setUsers(currentProfiles);\n            return;\n         }\n        const newUsers = currentProfiles.filter(user => user.PaymentMethod === value );\n        setUsers(newUsers);\n        return;\n     }\n\n    return (\n        users.length === 0 ? <h1 className=\"loading\">...Loading</h1> : \n        <>\n            <h1 className=\"heading\">Profiles</h1>\n            <Navbar filterByGender = {filterGender} filterByPayment = {filterPayment} gender = {allGender} payMethods = {allPayments} search={search} setSearch={setSearch} />\n            <DisplayProfile currentProfiles = {currentProfiles} search={search}/>\n            <Pagination profilePerPage={profilePerPage} totalProfiles ={users.length} paginate={paginate} />\n        </>\n    )\n}\n\nexport default Profile\n"]},"metadata":{},"sourceType":"module"}